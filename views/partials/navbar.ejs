<nav class="neon-nav">
  <div class="nav-inner">

    <!-- Brand -->
    <a href="/" class="nav-brand">CampusNotes</a>

    <!-- Toggle -->
    <button class="nav-toggle" id="navToggle">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- Dropdown Menu -->
    <ul class="nav-menu" id="navMenu">
      <% if (!currUser) { %>
        <a href="/login-n">Login</a>
        <a href="/register-n">Signup</a>
        <a href="/requestnotes">Request Notes</a>
        <a href="/chat">Chat/ai</a>
        <a href="/explore">Explore</a>
        <a href="/rankings">Rankings</a>
        <a href="/upload">Upload</a>
        <a href="/most-downloaded">Most Downloaded Notes</a>

      <% } else { %>
        <a href="/chat">Chat/ai</a>
        <a href="/rankings">Rankings</a>
        <a href="/profile/<%= currUser._id %>">Profile</a>
        <a href="/requestnotes">Request Notes</a>
        <a href="/explore">Explore</a>
        <a href="/upload">Upload</a>
        <a href="/most-downloaded">Most Downloaded Notes</a>

        <% if(currUser.roles.isModerator || currUser.roles.isDev) { %>
          <a href="/admin/verify-notes">Verify Notes</a>
          <a href="/dashboard">Admin Dashboard</a>
        <% } %>

        <a href="/logout">Logout</a>
      <% } %>
    </ul>
  </div>
</nav>


<script>
  (function() {
    const navToggleBtn = document.getElementById("navToggle");
    const navMenu = document.getElementById("navMenu");

    if (navToggleBtn && navMenu) {
      navToggleBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        navMenu.classList.toggle("active");
      });

      document.addEventListener("click", (e) => {
        if (!navToggleBtn.contains(e.target) && !navMenu.contains(e.target)) {
          navMenu.classList.remove("active");
        }
      });
    }
  })();
</script>
